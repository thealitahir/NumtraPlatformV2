<link rel="import" href="https://raw.githubusercontent.com/PAIR-code/facets/master/facets-dist/facets-jupyter.html" />

<div class="explorer-container">
  <div *ngIf="mainloader == 1">
    <div class="content-loader">

      <div class="content-loader-text">
        Please wait!
      </div>

      <!-- <mat-spinner></mat-spinner> -->
      <content-loader speed="1" primaryColor="#ffffff" secondaryColor="#74beea" secondaryOpacity="0.25">
        <svg:rect x="0" y="0" width="100%" higth="100%"/>
        <!-- <svg:rect x="20" y="20" rx="3" ry="3" width="220" height="10" />
            <svg:rect x="20" y="40" rx="3" ry="3" width="170" height="10" />
            <svg:rect x="0" y="60" rx="3" ry="3" width="250" height="10" />
            <svg:rect x="20" y="80" rx="3" ry="3" width="200" height="10" />
            <svg:rect x="20" y="100" rx="3" ry="3" width="80" height="10" /> -->
      </content-loader>

    </div>
  </div>

  <div class="facets-container" *ngIf="mainloader == 0">

      <div class="close-explorer-container" (click)="closeDataExplorer()">
        <i class="material-icons">clear</i>
      </div>

    <mat-drawer-container>
      <mat-drawer mode="side" opened>
        <ul class="left-col">
          <li [ngClass]="{ activeTab: selectedIndex == 0 }" (click)="selectTab(0)">
            Sample Data
          </li>
          <li [ngClass]="{ activeTab: selectedIndex == 1 }" (click)="selectTab(1)">
            Stats
          </li>
          <li [ngClass]="{ activeTab: selectedIndex == 2 }" (click)="selectTab(2)">
            Features Overview
          </li>
          <li [ngClass]="{ activeTab: selectedIndex == 3 }" (click)="selectTab(3)">
            Visualization
          </li>
        </ul>
      </mat-drawer>

      <mat-drawer-content>
        <mat-tab-group [selectedIndex]="selectedIndex" class="custom-tabs-content">

          <mat-tab>
            <div class="tab-content">
              <h3>Sample Data</h3>
              <table>
                <thead>
                  <th *ngFor="let datakey of dataExplorer.file.data[0] | keyvalue"> {{ datakey.key }}</th>
                </thead>
                <tbody>
                  <tr *ngFor='let datas of dataExplorer.file.data'>
                    <td *ngFor='let datakey of dataExplorer.file.data[0] | keyvalue'>{{ datas[datakey.key] }} </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </mat-tab>

          <mat-tab>
            <div class="tab-content">
              <h3>Stats</h3>
              <facets-overview id="elem" [protoInput]="protoInput"></facets-overview>
            </div>
          </mat-tab>

          <mat-tab>
            <div class="tab-content">
              <h3>Features Overview</h3>
              <facets-dive style="height:500px" id="element" [data]="facetdata"></facets-dive>
            </div>
          </mat-tab>

          <mat-tab>
            <div class="tab-content">
              <h3>Visualization</h3>
              <img class="pair-plot" [src]="graphFile" />
            </div>
          </mat-tab>

        </mat-tab-group>
      </mat-drawer-content>
    </mat-drawer-container>
  </div>

</div>
